{% extends 'base.html.twig' %}
{% block stylesheets %}
<link rel="stylesheet" href="{{ asset('assets/css/partenaire.css') }}">
{% endblock %}

{% block title %}{{ partenaire.partenaireName }}{% endblock %}

{% block nav %}
    {% endblock %}
{% block body %}

    <div class="container">
        <h1>{{ partenaire.partenaireName }}</h1>
        <div class="main-body">

            <div class="row gutters-sm">
                <div class="col-lg-4 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex flex-column align-items-center text-center">
                                <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin" class="rounded-circle" width="150">
                                <div class="mt-3">
                                    <h4>{{ partenaire.partenaireName }}</h4>
                                    <p class="text-muted font-size-sm">Crée le {{ partenaire.address }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card mt-3">
                        <ul class="list-group list-group-flush">
                            {% if app.user %}
                            {% if 'ROLE_ADMIN' in app.user.roles %}

                                <div class="modal-container">

                                    <div class="overlay modal-trigger"></div>

                                    <div class="modal" role="dialog" aria-labelledby="modalTitle" aria-describedby="dialogDesc">
                                        <button
                                                aria-label="close modal"
                                                class="close-modal modal-trigger">X</button>
                                        <h1 id="modalTitle">Voici du Contenu</h1>
                                        <p id="dialogDesc">Lorem ipsum dolor sit amet consectetur adipisicing elit. Ut nam exercitationem nihil veritatis sapiente quia.</p>
                                    </div>

                                </div>


                                <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                                <h6 class="mb-0">Active</h6>
                                <a class="modal-btn modal-trigger" href="{{ path('permuted', {id: partenaire.id}) }}" role="button">
                                    <label class="label">
                                        <div class="form-check form-switch">
                                            {% if partenaire.status == true %}
                                                <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled" checked>
                                                <label class="form-check-label" for="flexSwitchCheckCheckedDisabled"></label>
                                            {% else %}
                                                <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled">
                                                <label class="form-check-label" for="flexSwitchCheckCheckedDisabled"></label>                                            {% endif %}
                                            <div class="indicator"></div>
                                        </div>
                                </a>
                            </li>
                                {% endif %}
                                {% if 'ROLE_PARTENAIRE' in app.user.roles %}
                                <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                                <h6 class="mb-0">Active</h6>
                                        <div class="form-check form-switch">
                                            {% if partenaire.status == true %}
                                                <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled" checked disabled>
                                                <label class="form-check-label" for="flexSwitchCheckCheckedDisabled"></label>
                                            {% else %}
                                                <input class="form-check-input" type="checkbox" id="flexSwitchCheckCheckedDisabled" disabled>
                                                <label class="form-check-label" for="flexSwitchCheckCheckedDisabled"></label>
                                            {% endif %}
                                            <div class="indicator"></div>
                                        </div>
                            </li>
                                {% endif %}
                            {% endif %}
                            {% if app.user %}
                                {% if 'ROLE_ADMIN' in app.user.roles %}
                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                        <h6 class="mb-0" style="padding-right: 57%">Editer partenaire</h6>
                                        <div class="col-sm-12">
                                            <a class="btn btn-info" href="{{ path('partenaire.edit', {id: partenaire.id}) }}">Editer</a>
                                        </div>
                                    </li>
                                    {% endif %}
                                {% if 'ROLE_PARTENAIRE' in app.user.roles %}
                                    <li class="list-group-item d-flex justify-content-between">
                                        <h6 class="mb-0" >Changer mot de passe</h6>
                                        <div class="col-sm-12">
                                            <a class="btn btn-info" href="{{ path('partenaire.edit.password', {id: partenaire.id}) }}">Editer</a>
                                        </div>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                        <h6 class="mb-1">Editer partenaire</h6>
                                        <div class="col-sm-12">
                                            <a class="btn btn-info" href="{{ path('partenaire.edit', {id: partenaire.id}) }}">Editer</a>
                                        </div>
                                    </li>
                                    {% endif %}
                            {% endif %}
                        </ul>
                    </div>
                </div>

                <div class="col-lg-8">
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h6 class="mb-0">Nom du partenaire</h6>
                                </div>
                                <div class="col-sm-8 text-secondary">
                                    {{ partenaire.partenaireName }}
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-4">
                                    <h6 class="mb-0">Email</h6>
                                </div>
                                <div class="col-sm-8 text-secondary">
                                    {{ partenaire.email }}
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-4">
                                    <h6 class="mb-0">Téléphone</h6>
                                </div>
                                <div class="col-sm-8 text-secondary">
                                    {{ partenaire.phone }}
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-4">
                                    <h6 class="mb-0">Address</h6>
                                </div>
                                <div class="col-sm-8 text-secondary">
                                    {{ partenaire.address }}-{{ partenaire.zipcode }}-{{ partenaire.city }}
                                </div>
                            </div>
                            <hr>
                        </div>
                    </div>


                    <div class="row gutters-sm">
                        <div class="col-lg-6 mb-3">
                            <div class="card h-100">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between">
                                        <h6 class="d-flex align-items-center mb-3">Structures du partenaire</h6>
                                    </div>
                                    {% for structure in structures %}

                                    <div class="d-flex align-items-center justify-content-between">
                                        <small class="">{{ structure.structureName }}</small>
                                        <a href="{{ path('structure.show', {id: structure.id }) }}">
                                            <button class="btn btn-primary">Voir</button></a>
                                    </div>
                                    <div class="mb-3" style="height: 5px">
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

{% endblock %}

{% block javascripts %}
    <script src="{{ asset('assets/js/modal.js') }}"></script>
{% endblock %}
